(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{180:function(e,t,a){e.exports=a.p+"static/media/logo.91be8817.png"},378:function(e,t,a){},386:function(e,t,a){e.exports=a.p+"static/media/background.636ec7d1.png"},388:function(e,t,a){e.exports=a.p+"static/media/heading.6ad594bb.png"},417:function(e,t,a){e.exports=a(586)},422:function(e,t,a){},437:function(e,t){},439:function(e,t){},527:function(e,t){},528:function(e,t){},573:function(e,t,a){},575:function(e,t,a){},585:function(e,t,a){},586:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=(a(422),a(105)),s=a(25),l=a(7),u=a.n(l),m=a(12),p=a(30),d=a(35),f=a(69),h=a(380),g=a(135),b=a(379),v=a(72),E=a.n(v);function y(e){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=a(83),k=a(24),j={stateTable:{pre:function(){},post:function(){}},searchTransactions:{pre:function(){},post:function(){}}},C=window.fetch;function O(e,t,a,n){var r=new Date;return r=r.toISOString(),{AuthName:e,AuthPerm:t,AuthKey:n,AuthSignature:E.a.sign(r,a),AuthData:r}}function N(e,t,a,n){return function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];o[0];var i=o[1];return i.headers=Object(w.a)({},i.headers,{},O(e,t,a,n)),o[1]=i,o}}window.fetch=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,o,c,i,s,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=l.length,a=new Array(t),n=0;n<t;n++)a[n]=l[n];if(r=a[0],"GET"!==(o=a[1]).method||!r.includes("v0/state/table")){e.next=9;break}return e.next=6,(c=j.stateTable).pre.apply(c,Object(k.a)(a));case 6:a=e.sent,e.next=13;break;case 9:if("GET"!==o.method||!r.includes("/v0/search/transactions")){e.next=13;break}return e.next=12,(i=j.searchTransactions).pre.apply(i,Object(k.a)(a));case 12:a=e.sent;case 13:return e.next=15,C.apply(void 0,Object(k.a)(a));case 15:if(s=e.sent,"GET"!==o.method||!r.includes("v0/state/table")){e.next=21;break}return e.next=19,j.stateTable.post(s);case 19:e.next=24;break;case 21:if("GET"!==o.method||!r.includes("/v0/search/transactions")){e.next=24;break}return e.next=24,j.searchTransactions.post(s);case 24:return e.abrupt("return",s);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var S={eosio:{nodeos:"http://localhost:4000",blockExplorerUrl:"http://localhost:8080"},dfuseOptions:{apiKey:"web_abcdef123456789",authUrl:"null://",secure:!1,network:"localhost:4000"},google:{apiKey:"AIzaSyDMa6KMn669HY33Qrdu5gd0ggyf5C8G4WQ"},env:"development"};S.env="production",S.eosio.nodeos="https://server-civic.conscious-cities.com",S.dfuseOptions.network="",S.eosio.blockExplorerUrl="https://blockchain-civic.conscious-cities.com",S.dfuseOptions.network="server-civic.conscious-cities.com",S.dfuseOptions.secure=!0,S.isLiveEnvironment=function(){return"production"===S.env};var T=S,I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodeos:T.eosio.nodeos,dfuseOptions:T.dfuseOptions};Object(d.a)(this,e),T.isLiveEnvironment()&&(T.secure=!0),this.rpc=new g.JsonRpc(t.nodeos);var a=t.dfuseOptions;this.dfuseClient=Object(h.createDfuseClient)(a)}return Object(f.a)(e,[{key:"login",value:function(e){var t,a,n,r,o,c=(t=e,Object.assign({},t)),i=new b.JsSignatureProvider([c.privKey]);c.pubKey=E.a.privateToPublic(c.privKey,""),a=e.accountName,n=e.permission,r=e.privKey,o=c.pubKey,j.stateTable.pre=function(){var e=Object(m.a)(u.a.mark((function e(){var t=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(a,n,r,o).apply(void 0,t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j.searchTransactions.pre=function(){var e=Object(m.a)(u.a.mark((function e(){var t=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(a,n,r,o).apply(void 0,t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),delete c.privKey,this.account=c;var s=this.rpc;this.api=TextEncoder?new g.Api({rpc:s,signatureProvider:i,textDecoder:new TextDecoder,textEncoder:new TextEncoder}):new g.Api({rpc:s,signatureProvider:i})}},{key:"transact",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a,n,r){var o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={actions:[{account:t,name:a,authorization:[{actor:this.account.accountName,permission:this.account.permission}],data:n}]},e.next=3,this.transact2(o,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"transact2",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.api.transact(t,{blocksBehind:3,expireSeconds:30});case 3:if(n=e.sent,!a){e.next=9;break}if(!n.processed.error_code){e.next=7;break}throw Error("Failed with error code: "+n.processed.error_code);case 7:if(!a.status||n.processed.receipt.status===a.status){e.next=9;break}throw Error("Tx status is "+n.processed.receipt.status);case 9:return e.abrupt("return",n);case 12:if(e.prev=12,e.t0=e.catch(0),console.log("transact",t),console.log("\nCaught exception: "+e.t0),!(e.t0 instanceof g.RpcError)){e.next=20;break}console.error(JSON.stringify(e.t0.json,null,2)),e.next=22;break;case 20:throw console.error(e.t0),Error(e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}()}],[{key:"timePointToDate",value:function(e){return new Date(e+"Z")}}]),e}(),A=a(381),P=a.n(A).a.create({baseURL:T.eosio.nodeos}),z=function(){function e(t,a){Object(d.a)(this,e),this.contractAccount=t,this.eosio=a}return Object(f.a)(e,[{key:"initializeContract",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,o,c,i,s,l,p,d,f,h,g,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.eosio.rpc.get_abi(this.contractAccount);case 2:for(t=e.sent,a=this.contractAccount,n=this,r=!0,o=!1,c=void 0,e.prev=8,i=function(){var e=l.value,r=e.name,o=void 0;t.abi.structs.forEach((function(t){t.name===e.type&&(o=t.fields)})),n[r]=function(){var e=Object(m.a)(u.a.mark((function e(){var t,n,c,i,s,l,m=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=m.length,n=new Array(t),c=0;c<t;c++)n[c]=m[c];if((i=n.length)===o.length){e.next=5;break}throw console.error(r+"()",n),new Error("Number of arguments does not match action");case 5:for(s={},l=0;l<i;l++)s[o[l].name]=n[l];return e.next=9,this.eosio.transact(a,r,s,{status:"executed"});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},s=t.abi.actions[Symbol.iterator]();!(r=(l=s.next()).done);r=!0)i();e.next=17;break;case 13:e.prev=13,e.t0=e.catch(8),o=!0,c=e.t0;case 17:e.prev=17,e.prev=18,r||null==s.return||s.return();case 20:if(e.prev=20,!o){e.next=23;break}throw c;case 23:return e.finish(20);case 24:return e.finish(17);case 25:for(p=!0,d=!1,f=void 0,e.prev=28,h=function(){var e=b.value.name;n[e]=function(){var t=Object(m.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eosio.dfuseClient.stateTable(a,n,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n[e+"Row"]=function(){var t=Object(m.a)(u.a.mark((function t(n,r,o){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.eosio.dfuseClient.stateTableRow(a,n,e,r,{keyType:o});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,a,n){return t.apply(this,arguments)}}()},g=t.abi.tables[Symbol.iterator]();!(p=(b=g.next()).done);p=!0)h();e.next=37;break;case 33:e.prev=33,e.t1=e.catch(28),d=!0,f=e.t1;case 37:e.prev=37,e.prev=38,p||null==g.return||g.return();case 40:if(e.prev=40,!d){e.next=43;break}throw f;case 43:return e.finish(40);case 44:return e.finish(37);case 45:case"end":return e.stop()}}),e,this,[[8,13,17,25],[18,,20,24],[28,33,37,45],[38,,40,44]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),L=a(92),D=a(89),_=a(93),M=0,R=0,B=0,F=1,W=2,U=a(238),H=a.n(U),K=function(){function e(){Object(d.a)(this,e),this.accountability=new I,this.civicContract=new z("civic",this.accountability)}return Object(f.a)(e,[{key:"accountLoginWithKey",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.accountability.login({accountName:t,permission:"active",privKey:n}),e.next=3,this.civicContract.initializeContract();case 3:this.account={accountName:t,commonName:a,privateKey:n};case 4:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"accountLogin",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=E.a.seedPrivate(H.a.createHash("sha256").update(t+a).digest("hex")),r=E.a.privateToPublic(n),e.prev=2,e.next=5,P.post("login",{accountName:t,pubKey:r});case 5:return o=e.sent,this.accountability.login({accountName:t,permission:"active",privKey:n}),e.next=9,this.civicContract.initializeContract();case 9:return this.account={accountName:t,commonName:o.data.commonName,privateKey:n},e.abrupt("return",G(o.data));case 13:if(e.prev=13,e.t0=e.catch(2),!e.t0.response.data.includes("unknown key")){e.next=19;break}throw(c=new Error("User not found")).status=400,c;case 19:if(!e.t0.response.data.includes("Public keys do not match")){e.next=23;break}throw(c=new Error("Password is incorrect")).status=401,c;case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"accountCreate",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a,n){var r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E.a.seedPrivate(H.a.createHash("sha256").update(t+a).digest("hex")),o=E.a.privateToPublic(r),e.next=4,P.post("create-account",{commonName:n,accountName:t,pubKey:o});case 4:return c=e.sent,e.next=7,this.accountability.login({accountName:t,permission:"active",privKey:r});case 7:return e.next=9,this.civicContract.initializeContract();case 9:return this.account={accountName:t,commonName:c.data.commonName,privateKey:r},e.abrupt("return",G(c.data));case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"accountGet",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.accountability.get_account(t);case 2:return a=e.sent,e.abrupt("return",G(a.data));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"proposalCreate",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.civicContract.propcreate(this.account.accountName,t.title,t.description,t.category,t.budget,t.type,t.location);case 2:return a=e.sent,e.next=5,y(1e3);case 5:return e.next=7,this.accountability.dfuseClient.fetchTransaction(a.transaction_id);case 7:return n=e.sent,r=n.execution_trace.action_traces[0].block_num,e.next=11,this.accountability.dfuseClient.stateAbiBinToJson("civic","proposals",[n.dbops[0].new.hex],r);case 11:return o=e.sent,c=o.rows[0],i={title:t.title,description:t.description,category:t.category,type:t.type,location:t.location,proposalId:c.proposal_id,status:B,created:new Date(c.created)},t.budget&&(i.budget=t.budget),t.photos&&(i.photos=t.photos),e.abrupt("return",i);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"proposalUpdate",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={actions:[{account:"civic",name:"propupdate",authorization:[{actor:this.account.accountName,permission:this.accountability.account.permission},{actor:"gov",permission:"active"}],data:{updater:this.account.accountName,proposal_id:t.proposalId,title:t.title,description:t.description,category:t.category,budget:t.budget,type:t.type,location:t.location,new_status:t.status,regulations:t.regulations,comment:t.comment}}]},e.next=3,this.accountability.transact2(a);case 3:return n=e.sent,e.next=6,y(1e3);case 6:return e.next=8,this.accountability.dfuseClient.fetchTransaction(n.transaction_id);case 8:return r=e.sent,o=r.execution_trace.action_traces[0].block_num,e.next=12,this.accountability.dfuseClient.stateAbiBinToJson("civic","proposals",[r.dbops[0].new.hex],o);case 12:return c=e.sent,i=c.rows[0],s=Object(p.a)({title:t.title,description:t.description,category:t.category,type:t.type,location:t.location,proposalId:t.proposalId,status:B,created:I.timePointToDate(i.created),updated:I.timePointToDate(i.updated),approved:I.timePointToDate(i.approved)},"status",t.status),t.budget&&(s.budget=t.budget),t.photos&&(s.photos=t.photos),t.regulations&&(s.regulations=t.regulations),e.abrupt("return",s);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"proposalVote",value:function(){var e=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"proposalList",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,e.next=3,this.civicContract.proposals(this.civicContract.contractAccount);case 3:return a=e.sent,n=t?a.rows.filter((function(e){return e.json.status===t})):a.rows,(r=n.map((function(e){return{proposalId:e.json.proposal_id,title:e.json.title,description:e.json.description,category:e.json.category,budget:e.json.budget,type:e.json.type,location:e.json.location,status:e.json.status,photos:e.json.photos,regulations:e.json.regulations,created:I.timePointToDate(e.json.approved),approved:I.timePointToDate(e.json.approved),updated:I.timePointToDate(e.json.updated),voted:e.json.voted,yesVoteCount:e.json.yes_vote_count}}))).sort((function(e,t){return e.created>t.created?1:e.created<t.created?-1:0})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"proposalGet",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.civicContract.proposalsRow(this.civicContract.contractAccount,t,"uint64");case 2:return a=e.sent,n=a.row.json,e.abrupt("return",{proposalId:n.proposal_id,title:n.title,description:n.description,category:n.category,budget:n.budget,type:n.type,location:n.location,status:n.status,photos:n.photos,regulations:n.regulations,created:I.timePointToDate(n.approved),approved:I.timePointToDate(n.approved),updated:I.timePointToDate(n.updated),voted:n.voted,yesVoteCount:n.yes_vote_count});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"proposalHistory",value:function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,r,o,c,i,s,l,m,p,d,f,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="receiver:".concat(this.civicContract.contractAccount," event.proposal_id:").concat(t),e.next=3,this.accountability.dfuseClient.searchTransactions(a);case 3:if(n=e.sent,r=n.transactions,o=[],!(r&&r.length>0)){e.next=26;break}for(c=!0,i=!1,s=void 0,e.prev=10,l=r[Symbol.iterator]();!(c=(m=l.next()).done);c=!0)p=m.value,d=p.lifecycle,f=d.execution_trace.action_traces[0].act,h={txId:d.id,action:f.name,timestamp:I.timePointToDate(d.execution_trace.block_time),authHuman:d.account_authorizers[0],authHumanCommonName:d.account_authorizers_common_names[0],data:f.data,status:q(f.name)},"propupdate"===f.name&&(h.status=f.data.new_status),f.data.comment&&(h.comment=f.data.comment),o.push(h);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),i=!0,s=e.t0;case 18:e.prev=18,e.prev=19,c||null==l.return||l.return();case 21:if(e.prev=21,!i){e.next=24;break}throw s;case 24:return e.finish(21);case 25:return e.finish(18);case 26:return o.sort((function(e,t){return e.timestamp>t.timestamp?1:e.timestamp<t.timestamp?-1:0})),e.abrupt("return",o);case 28:case"end":return e.stop()}}),e,this,[[10,14,18,26],[19,,21,25]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function G(e){var t={accountName:e.account_name,commonName:e.commonName,type:e.type,created:I.timePointToDate(e.created),permissions:e.permissions,contractDeployed:"1970-01-01T00:00:00.000"!==e.last_code_update};return t.contractDeployed&&(t.lastContractUpdate=I.timePointToDate(e.last_code_update)),t}function q(e){switch(e){case"propcreate":return B;case"propupdate":return F;default:throw new Error("Invalid action name")}}function J(){var e=52.1135031+.01*Math.random(),t=4.2829047+.01*Math.random();return"".concat(e,",").concat(t)}var V="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis imperdiet consectetur convallis. Fusce elementum urna at velit venenatis malesuada a eu libero. Fusce sed nisl tempus, ultrices quam sit amet, ultrices nulla. Fusce vulputate vestibulum lacinia. Phasellus ultrices justo dolor, sit amet tempus nisl semper feugiat. Suspendisse imperdiet nec urna sed pulvinar. Sed sit amet leo sollicitudin, blandit massa at, lacinia quam. Aenean dapibus euismod tortor, id pharetra libero. Sed tempus vulputate ullamcorper. Curabitur porttitor, ex eget lobortis venenatis, metus sapien scelerisque metus, sed laoreet lacus odio non turpis. Donec hendrerit efficitur ornare. Pellentesque molestie neque elit, vitae porttitor tellus posuere non. Nulla lobortis, turpis non suscipit imperdiet, magna metus scelerisque lacus, id feugiat tortor tellus eu orci.         Morbi ultricies nibh nisi, vel rutrum elit consequat vel. Sed pretium purus eu ipsum hendrerit dapibus. Ut nulla leo, tincidunt et aliquam venenatis, porttitor vitae tortor. Donec eget tortor lobortis, auctor mi pharetra, rhoncus massa. Phasellus eget augue non lectus suscipit gravida a eu orci. Phasellus mollis purus ligula, non tempor ligula imperdiet eu. Nulla imperdiet pharetra orci, non commodo lorem luctus eu. Suspendisse at laoreet tortor. In fringilla cursus dictum. Integer molestie vestibulum fringilla. Sed id tincidunt magna.         Duis vehicula tortor at ex pretium, in lacinia libero porta. Pellentesque risus dolor, viverra id molestie ut, ornare nec nulla. Phasellus tincidunt nisl eget lorem bibendum malesuada. Maecenas commodo imperdiet malesuada. Phasellus porttitor convallis nisi non porttitor. Nullam eleifend sem in quam placerat, quis semper augue dictum. Donec ultrices quam non lorem varius tristique eget a erat. Pellentesque vel imperdiet nisi. Sed turpis justo, mattis a ex in, pharetra dictum mauris. Duis eget tincidunt est. Praesent ut commodo magna. Maecenas imperdiet consequat mattis. Donec dignissim orci ac venenatis eleifend.",Y=function(){return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,a,n,r,o,c,i,s,l,m,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new K,e.prev=1,e.next=4,t.accountLogin("jack","Password1234!");case 4:a=e.sent,console.log("accountLogin() - jack 1",a),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,t.accountCreate("jack","Password1234!","Jack Tanner");case 12:n=e.sent,console.log("accountCreate()",n);case 14:return r={title:"Build a flowerbed next to John's tacos",description:V,category:M,budget:0,type:R,photos:[],location:J()},e.next=17,t.proposalCreate(r);case 17:return o=e.sent,console.log("proposalCreate()",o),c=o.proposalId,e.next=22,t.accountLogin("tijn","Password123");case 22:return a=e.sent,console.log("accountLogin() - tijn",a),r.proposalId=c,r.status=F,e.next=28,t.proposalUpdate(r);case 28:return i=e.sent,console.log("proposalUpdate()",i),r.regulation="RM 3212",r.budget=2300,r.comment="Regulations checked and budget added",r.status=W,e.next=36,t.proposalUpdate(r);case 36:return i=e.sent,console.log("proposalUpdate()",i),e.next=40,t.accountLogin("jack","Password1234!");case 40:return a=e.sent,console.log("accountLogin() - jack 2",a),e.next=44,t.proposalVote(c,!0);case 44:return s=e.sent,console.log("proposalVote",s),e.next=48,t.proposalList();case 48:return l=e.sent,console.log("proposalList()",l),e.next=52,t.proposalList(W);case 52:return l=e.sent,console.log("proposalList(Approved)",l),e.next=56,t.proposalGet(c);case 56:return m=e.sent,console.log("proposalGet()",m),e.next=60,t.proposalHistory(c);case 60:p=e.sent,console.log("proposalHistory()",p);case 62:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),r.a.createElement("div",null,"Here is the app!")},Q=a(15);function Z(e,t,a){var n={accountName:e,commonName:t,privKey:a};localStorage.setItem("user",JSON.stringify(n))}function $(){var e=localStorage.getItem("user");if(e)return JSON.parse(e)}function X(){localStorage.removeItem("user")}var ee=new K,te=Object(n.createContext)();function ae(e){var t=e.children,a=function(){var e=Object(n.useState)(!1),t=Object(Q.a)(e,2),a=t[0],r=t[1];function o(){return(o=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==a){e.next=2;break}return e.abrupt("return",!0);case 2:if(!(t=$())){e.next=10;break}return e.next=6,ee.accountLoginWithKey(t.accountName,t.commonName,t.privKey);case 6:return r(!0),e.abrupt("return",!0);case 10:if(T.isLiveEnvironment()){e.next=18;break}return e.next=13,ee.accountLogin("tijn","Password123");case 13:return Z("tijn",ee.account.commonName,ee.account.privateKey),r(!0),e.abrupt("return",!0);case 18:return e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(m.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.accountLogin(t,a);case 2:Z(t,ee.account.commonName,ee.account.privateKey),r(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(m.a)(u.a.mark((function e(t,a,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.accountCreate(t,a,n);case 2:Z(t,n,ee.account.privateKey),r(!0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(),r(!1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{civic:ee,isLoggedIn:function(){return o.apply(this,arguments)},login:function(e,t){return c.apply(this,arguments)},createAccount:function(e,t,a){return i.apply(this,arguments)},logout:function(){return s.apply(this,arguments)}}}();return r.a.createElement(te.Provider,{value:a},t)}var ne=function(){return Object(n.useContext)(te)},re=a(610),oe=a(618),ce=a(598),ie=a(114),se=a.n(ie),le=a(612),ue=a(620),me=a(619),pe=a(5),de=a(616),fe=a(617),he=a(183),ge=a(79),be=a(609);function ve(e){var t=e.text,a=e.type,n=e.loading,o=void 0!==n&&n,c=e.backgroundColor,i=void 0===c?"#227B3C":c,s=e.color,l=void 0===s?"#fff":s,u=e.loaderColor,m=void 0===u?"#fff":u,p=Object(pe.a)({root:{color:m}})(be.a),d=Object(pe.a)({root:{backgroundColor:o?"rgba(79,79,79, 0.26)":i,borderRadius:3,border:0,color:l,height:36,width:100,padding:"0 30px",marginLeft:"10px"},label:{textTransform:"capitalize"}})(re.a);return r.a.createElement(d,{disabled:o,type:a},o?r.a.createElement(p,{size:14,className:"circular-progress"}):t)}var Ee=a(377),ye=a(613),xe=a(178);function we(e){var t="#227B3C";"blue"===e.color&&(t="#1261A3");var a=Object(Ee.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},commonText:{"& label.Mui-focused":{color:t},"& .MuiInputBase-root.MuiInput-underline:after":{borderBottomColor:t}}}}))(),o=Object(n.useState)(e.defaultText),c=Object(Q.a)(o,2),i=c[0];c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{className:"input-container"},r.a.createElement(ye.a,{name:e.name,className:(a.margin,a.commonText),label:e.label,value:e.value,inputRef:e.registerRef})),r.a.createElement("p",{className:"createuser-msg"},i),r.a.createElement(xe.a,{errors:e.errors,name:e.name,render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=Object(Q.a)(e,2),a=t[0],n=t[1];return r.a.createElement("p",{key:a},n)})):null}}))}var ke=a(2),je=a(591),Ce=a(614),Oe=a(237),Ne=a(384),Se=a.n(Ne),Te=a(385),Ie=a.n(Te),Ae=a(410);function Pe(e){var t="#227B3C";"blue"===e.color&&(t="#1261A3");var a=Object(Ee.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& label.Mui-focused":{color:t},"& .MuiInput-underline:after":{borderBottomColor:t}},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"320px;"}}}))(),o=Object(n.useState)({amount:"",password:"",weight:"",weightRange:"",showPassword:!1}),c=Object(Q.a)(o,2),i=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(le.a,{className:"input-container"},r.a.createElement("div",{className:a.root},r.a.createElement(Oe.a,{className:Object(ke.a)(a.margin,a.textField)},r.a.createElement(je.a,{htmlFor:"standard-adornment-password"},e.label),r.a.createElement(Ae.a,{id:"standard-adornment-password",type:i.showPassword?"text":"password",value:e.value,endAdornment:r.a.createElement(Ce.a,{position:"end"},r.a.createElement(ce.a,{"aria-label":"toggle password visibility",onClick:function(){s(Object(w.a)({},i,{showPassword:!i.showPassword}))},onMouseDown:function(e){e.preventDefault()}},i.showPassword?r.a.createElement(Se.a,null):r.a.createElement(Ie.a,null))),name:e.name,inputRef:e.registerRef})))),r.a.createElement(xe.a,{errors:e.errors,name:e.name,render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=Object(Q.a)(e,2),a=t[0],n=t[1];return r.a.createElement("p",{key:a},n)})):null}}))}var ze=a(166),Le=a(386),De=a.n(Le),_e=a(615),Me=Object(ze.a)({typography:{fontFamily:["Roboto",'"Helvetica Neue"',"Arial","sans-serif"].join(",")},Button:{backgroundColor:"#227B3C",color:"#fff"}}),Re=Object(pe.a)({root:{fontSize:"72px",color:"#227B3C"}})(he.a),Be=(Object(pe.a)({root:{fontSize:"15px",color:"red"}})(he.a),Object(pe.a)({root:{color:"#FAFFFB",fontWeight:"bold",fontSize:"50px"}})(he.a)),Fe=Object(pe.a)({root:{color:"#FAFFFB",fontWeight:500,fontSize:"72px"}})(he.a),We=Object(pe.a)((function(e){return{tooltip:{backgroundColor:"lightgrey",color:"rgba(0, 0, 0, 0.87)",maxWidth:400,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(_e.a),Ue={style:{backgroundImage:"url(".concat(De.a,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center 15 %"}};a(573);function He(){var e=Object(s.f)(),t=ne(),a=r.a.useState(!1),n=Object(Q.a)(a,2),o=n[0],c=n[1],i=r.a.useState(!1),l=Object(Q.a)(i,2),p=l[0],d=l[1],f=r.a.useState(null),h=Object(Q.a)(f,2),g=h[0],b=h[1],v=function(e,t){"clickaway"!==t&&d(!1)},E=Object(ge.b)({criteriaMode:"all"}),y=E.register,x=E.errors,w=E.handleSubmit,k=function(){var a=Object(m.a)(u.a.mark((function a(n){var r,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.username,o=n.password,c(!0),a.prev=2,a.next=5,t.login(r,o);case 5:e.push("/dashboard"),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(2),b(a.t0.message),d(!0),c(!1);case 13:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}(),j=Object(pe.a)({root:{fontSize:"15px",color:"#227B3C"}})(he.a),C=Object(pe.a)({root:{color:"#227B3C",fontSize:30,lineHeight:0}})(de.a),O=Object(pe.a)({root:{color:"#227B3C"}})(fe.a),N=Object(pe.a)({root:{color:"#227B3C",fontSize:"30px",lineHeight:"35px"}})(he.a),S=Object(pe.a)({root:{fontSize:"14px"}})(fe.a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:p,autoHideDuration:6e3,onClose:v,message:g,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{color:"secondary",size:"small",onClick:v},"UNDO"),r.a.createElement(ce.a,{size:"small","aria-label":"close",color:"inherit",onClick:v},r.a.createElement(se.a,{fontSize:"small"})))}),r.a.createElement(le.a,{container:!0,spacing:0,direction:"row"},r.a.createElement(le.a,{container:!0,item:!0,xs:6,spacing:0,className:"col-item col-left"},r.a.createElement(le.a,{container:!0,direction:"column",style:Ue.style},r.a.createElement(le.a,{container:!0,direction:"column",justify:"center",alignContent:"center",className:"subject-title"},r.a.createElement(Re,{variant:"h3"},"Concious Cities")),r.a.createElement(le.a,{container:!0,direction:"column",justify:"center",alignContent:"center",className:"description-title"},r.a.createElement(le.a,{item:!0},r.a.createElement(Be,{variant:"h4"},"shape")),r.a.createElement(le.a,{item:!0},r.a.createElement(Fe,null,"YOUR CITY")),r.a.createElement(le.a,{item:!0},r.a.createElement(Be,{variant:"h5"},"in new ways"))))),r.a.createElement(le.a,{container:!0,item:!0,xs:6,spacing:0,className:"col-item col-right"},r.a.createElement(le.a,{container:!0,direction:"column",justify:"center",alignContent:"center",className:"login-inner"},r.a.createElement(le.a,{container:!0,direction:"row",justify:"flex-start",alignContent:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,className:"logo-wrap"},r.a.createElement(C,null)),r.a.createElement(le.a,{item:!0,className:"left-margin"},r.a.createElement(N,null,"Login"))),r.a.createElement("form",{onSubmit:w(k),className:"login-form"},r.a.createElement(le.a,{container:!0,direction:"column",justify:"center",alignContent:"center"},r.a.createElement("div",{className:"form-ele-wrap"},r.a.createElement(we,{label:"Username",name:"username",color:"green",errors:x,registerRef:y({required:"Please enter a username."})})),r.a.createElement("div",{className:"form-ele-wrap"},r.a.createElement(Pe,{label:"Enter your password",name:"password",color:"green",errors:x,registerRef:y({required:"Please enter a password."})}))),r.a.createElement(le.a,{container:!0,item:!0,justify:"center",alignContent:"center"},r.a.createElement(me.a,{className:"login-account-link",onClick:function(){e.push("/")}},"CREATE ACCOUNT")),r.a.createElement(le.a,{container:!0,item:!0,justify:"center",alignContent:"center"},r.a.createElement(ue.a,null)),r.a.createElement(le.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(We,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(S,null),"Proposals, voting and government actions are stored on the blockchain. This data is cryptographically secured and cannot be forged or tampered with by anyone, including the government.\xa0",r.a.createElement(me.a,{className:"read-more-link",onClick:function(){window.open("security","_blank")}},"Click to learn more"))),arrow:!0,interactive:!0},r.a.createElement("div",{className:"encrypt-wrape"},r.a.createElement(le.a,{item:!0},r.a.createElement(j,null,"tamper proof")),r.a.createElement(le.a,{item:!0},r.a.createElement(O,null)))),r.a.createElement(le.a,{item:!0,className:"login-button"},r.a.createElement(ve,{loading:o,type:"submit",text:"LOGIN"}))))))))}var Ke=a(621);a(575);function Ge(){var e=Object(s.f)(),t=ne(),a=r.a.useState(!1),n=Object(Q.a)(a,2),o=n[0],c=n[1],i=r.a.useState(!1),l=Object(Q.a)(i,2),p=l[0],d=l[1],f=r.a.useState(null),h=Object(Q.a)(f,2),g=h[0],b=h[1],v=function(e,t){"clickaway"!==t&&d(!1)},E=Object(ge.b)({criteriaMode:"all"}),y=E.register,x=E.errors,w=E.handleSubmit,k=E.watch,j=function(){var a=Object(m.a)(u.a.mark((function a(n){var r,o,i,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.username,o=n.password,i=n.firstname,s=n.lastname,c(!0),a.prev=2,a.next=5,t.createAccount(r,o,"".concat(i," ").concat(s));case 5:e.push("/dashboard"),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(2),b(a.t0.message),d(!0),c(!1);case 13:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}(),C=Object(pe.a)({root:{fontSize:"15px",color:"#1261A3"}})(he.a),O=Object(pe.a)({root:{color:"#1261A3"}})(fe.a),N=Object(pe.a)({root:{fontSize:"14px"}})(fe.a),S=Object(pe.a)({root:{color:"#1261A3",fontSize:30,lineHeight:0}})(de.a),T=Object(pe.a)({root:{color:"#1261A3",fontSize:"30px",lineHeight:"35px"}})(he.a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:p,autoHideDuration:6e3,onClose:v,message:g,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{color:"secondary",size:"small",onClick:v},"UNDO"),r.a.createElement(ce.a,{size:"small","aria-label":"close",color:"inherit",onClick:v},r.a.createElement(se.a,{fontSize:"small"})))}),r.a.createElement(le.a,{container:!0,spacing:0,direction:"row"},r.a.createElement(le.a,{container:!0,item:!0,xs:6,spacing:0,className:"col-item col-left"},r.a.createElement(le.a,{container:!0,direction:"column",style:Ue.style},r.a.createElement(le.a,{container:!0,direction:"column",justify:"center",alignContent:"center",className:"subject-title"},r.a.createElement(Re,{variant:"h3"},"Concious Cities")),r.a.createElement(le.a,{container:!0,direction:"column",justify:"center",alignContent:"center",className:"description-title"},r.a.createElement(le.a,{item:!0},r.a.createElement(Be,{variant:"h4"},"shape")),r.a.createElement(le.a,{item:!0},r.a.createElement(Fe,null,"YOUR CITY")),r.a.createElement(le.a,{item:!0},r.a.createElement(Be,{variant:"h5"},"in new ways"))))),r.a.createElement(le.a,{container:!0,item:!0,xs:6,spacing:0,className:"col-item col-right"},r.a.createElement(le.a,{container:!0,direction:"column",justify:"center",alignContent:"center",className:"create-inner"},r.a.createElement(le.a,{container:!0,direction:"row",justify:"flex-start",alignContent:"center",alignItems:"center"},r.a.createElement(le.a,{item:!0,className:"logo-wrap"},r.a.createElement(S,null)),r.a.createElement(le.a,{item:!0,className:"left-margin"},r.a.createElement(T,null,"Create account"))),r.a.createElement("form",{onSubmit:w(j),className:"create-form"},r.a.createElement(le.a,{container:!0,direction:"column",justify:"center",alignContent:"center"},r.a.createElement("div",{className:"form-ele-wrap"},r.a.createElement(we,{label:"Create username",name:"username",color:"green",errors:x,registerRef:y({required:"Up to 13 characters with letters and 0-5.",pattern:{value:/^[0-5a-zA-Z]{1,13}$/,message:"Up to 13 characters with letters and 0-5."}}),defaultText:"Up to 13 characters with letters and 0-5"})),r.a.createElement("div",{className:"form-ele-wrap"},r.a.createElement(we,{label:"First name",name:"firstname",color:"green",errors:x,registerRef:y({required:"Please enter a firstname."})})),r.a.createElement("div",{className:"form-ele-wrap"},r.a.createElement(we,{label:"Last name",name:"lastname",color:"green",errors:x,registerRef:y({required:"Please enter a lastname."})})),r.a.createElement("div",{className:"form-ele-wrap"},r.a.createElement(Pe,{label:"Enter your password",name:"password",color:"green",errors:x,registerRef:y({required:"Please enter a password.",minLength:{value:8,message:"At least 8 characters."}})})),r.a.createElement("div",{className:"form-ele-wrap"},r.a.createElement(Pe,{label:"Enter your confirm password",name:"confirmpassword",color:"green",errors:x,registerRef:y({required:"Please enter a confirm password.",validate:function(e){return e===k("password")||"Passwords don't match."}})}))),r.a.createElement(le.a,{container:!0,item:!0,justify:"center",alignContent:"center"},r.a.createElement(me.a,{className:"create-account-link",onClick:function(){e.push("/login")}},"LOGIN")),r.a.createElement(le.a,{container:!0,item:!0,justify:"center",alignContent:"center"},r.a.createElement(Ke.a,null)),r.a.createElement(le.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},r.a.createElement(We,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(N,null),"Proposals, voting and government actions are stored on the blockchain. This data is cryptographically secured and cannot be forged or tampered with by anyone, including the government.\xa0",r.a.createElement(me.a,{className:"read-more-link",onClick:function(){window.open("security","_blank")}},"Click to learn more"))),arrow:!0,interactive:!0},r.a.createElement("div",{className:"encrypt-wrape"},r.a.createElement(le.a,{item:!0},r.a.createElement(C,null,"tamper proof")),r.a.createElement(le.a,{item:!0},r.a.createElement(O,null)))),r.a.createElement(le.a,{item:!0,className:"create-button"},r.a.createElement(ve,{loading:o,type:"submit",text:"Create",backgroundColor:"#1261A3"}))))))))}function qe(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Civic Security"),r.a.createElement("p",null,"Description of some civic technical security details... (civilian friendly)"))}var Je=a(632),Ve=a(388),Ye=a.n(Ve),Qe=a(631),Ze=a(389),$e=a.n(Ze),Xe=a(597),et=a(630),tt=a(605),at=a(407),nt=a(398),rt=a(167),ot=a(400),ct=a.n(ot),it=(a(378),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(L.a)(this,Object(D.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(p.a)({},e,t.target.value))}},a.onPlaceChanged=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props,t=e.map,n=e.addplace,r=a.autoComplete.getPlace();r.geometry&&(r.geometry.viewport?t.fitBounds(r.geometry.viewport):(t.setCenter(r.geometry.location),t.setZoom(17)),n(r),a.searchInput.blur())},a.clearSearchBox=a.clearSearchBox.bind(Object(rt.a)(a)),a}return Object(_.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.map,a=e.mapApi,n={types:["address"]};this.autoComplete=new a.places.Autocomplete(this.searchInput,n),this.autoComplete.addListener("place_changed",this.onPlaceChanged),this.autoComplete.bindTo("bounds",t)}},{key:"componentWillUnmount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.mapApi;t.event.clearInstanceListeners(this.searchInput)}},{key:"clearSearchBox",value:function(){this.searchInput.value=""}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-wrap"},r.a.createElement("input",{className:"search-input",ref:function(t){e.searchInput=t},type:"text",onFocus:this.clearSearchBox,placeholder:"Location"}),r.a.createElement(ct.a,{className:"search-icon"}))}}]),t}(n.Component)),st=a(401);function lt(){var e=Object(st.a)(["\n    position: absolute;\n    width: 38px;\n    height: 37px;\n    background-image: url(https://icon-library.com/images/pin-icon-png/pin-icon-png-9.jpg);\n    background-size: contain;\n    background-repeat: no-repeat;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -webkit-transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    transform: translate(-50%,-50%);\n    cursor: grab;\n"]);return lt=function(){return e},e}var ut=a(402).a.div(lt()),mt=function(e){var t=e.text,a=e.onClick;return r.a.createElement(ut,{alt:t,onClick:a})};mt.defaultProps={onClick:null};var pt=mt,dt=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(L.a)(this,Object(D.a)(t).call(this,e))).state={mapApiLoaded:!1,mapInstance:null,mapApi:null,geoCoder:null,places:[a.props.location.lat,a.props.location.lng],center:[a.props.location.lat,a.props.location.lng],zoom:a.props.zoom,address:"",draggable:!0,lat:a.props.location.lat,lng:a.props.location.lng},a.onMarkerInteraction=function(e,t,n){a.setState({draggable:!1,lat:n.lat,lng:n.lng})},a.onMarkerInteractionMouseUp=function(e,t,n){a.setState({draggable:!0}),a._generateAddress()},a._onChange=function(e){var t=e.center,n=e.zoom;a.setState({center:t,zoom:n})},a._onClick=function(e){a.setState({lat:e.lat,lng:e.lng})},a.apiHasLoaded=function(e,t){a.setState({mapApiLoaded:!0,mapInstance:e,mapApi:t}),a._generateAddress()},a.addPlace=function(e){a.setState({places:[e],lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}),a._generateAddress()},a}return Object(_.a)(t,e),Object(f.a)(t,[{key:"componentWillMount",value:function(){this.setCurrentLocation()}},{key:"_generateAddress",value:function(){var e=this;(new this.state.mapApi.Geocoder).geocode({location:{lat:this.state.lat,lng:this.state.lng}},(function(t,a){"OK"===a?t[0]?(e.zoom=12,e.setState({address:t[0].formatted_address})):console.log("No results found"):console.log("Geocoder failed due to: "+a)}))}},{key:"setCurrentLocation",value:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){e.setState({center:[t.coords.latitude,t.coords.longitude],lat:t.coords.latitude,lng:t.coords.longitude})}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.places,t.mapApiLoaded),n=t.mapInstance,o=t.mapApi;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("div",null,r.a.createElement(it,{map:n,mapApi:o,addplace:this.addPlace})),r.a.createElement(nt.a,{center:this.state.center,zoom:this.state.zoom,draggable:this.state.draggable,onChange:this._onChange,onChildMouseDown:this.onMarkerInteraction,onChildMouseUp:this.onMarkerInteractionMouseUp,onChildMouseMove:this.onMarkerInteraction,onClick:this._onClick,bootstrapURLKeys:{key:"AIzaSyDMa6KMn669HY33Qrdu5gd0ggyf5C8G4WQ",libraries:["places","geometry"]},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.apiHasLoaded(a,n)}},r.a.createElement(pt,{text:this.state.address,lat:this.props.lat,lng:this.props.lng})))}}]),t}(n.Component),ft=a(382),ht=a(406),gt=a.n(ht),bt=a(180),vt=a.n(bt),Et=Object(Ee.a)((function(e){return{root:{flexGrow:1},navbar:{width:"100%",height:85,backgroundColor:"#C4C4C4"},logo:{width:60,height:60},logoImage:{margin:"auto",display:"block",maxHeight:"100%",maxWidth:"100%"},logoContainer:{marginLeft:80,alignItems:"center"},searchContainer:{maxWidth:385,maxHeight:67,minWidth:330,border:"1px solid #fff",borderRadius:50,justifyContent:"center",alignItems:"center"},formControl:{margin:e.spacing(1),minWidth:200,"& .MuiInput-underline:before":{borderColor:"#009688"},"& .MuiSelect-icon":{top:"calc(50% - 15px)"},"& .MuiNativeSelect-select:focus":{backgroundColor:"#C4C4C4"}},inputLabel:{color:"rgba(0, 0, 0, 0.5393)","&.Mui-focused":{color:"#599C6D"}},searchIcon:{width:35,height:35,backgroundColor:"#009688",padding:7,borderRadius:"50%",color:"#fff",marginLeft:58},buttonContainer:{alignItems:"center",justifyContent:"flex-end",marginRight:80}}})),yt=Object(pe.a)({root:{color:"#1261A3",fontWeight:500,fontSize:"30px"}})(he.a),xt=(Object(pe.a)({root:{color:"#1261A3",fontWeight:"400",fontSize:"18px",lineHeight:"12px"}})(he.a),Object(pe.a)({root:{backgroundColor:"#1261A3",borderRadius:3,border:0,color:"white",height:36,padding:"0 20px",marginLeft:"50px","&:hover":{backgroundColor:"#1261A3"}},label:{textTransform:"capitalize",fontSize:"14px",fontWeight:"500"}})(re.a)),wt=Object(pe.a)({root:{border:0,color:"#1261A3",height:36,padding:"0 20px",marginLeft:"50px","&:hover":{backgroundColor:"#C4C4C4"}},label:{textTransform:"none",fontSize:"18px",fontWeight:"normal"}})(re.a);function kt(){var e=Et(),t=Object(n.useState)(""),a=Object(Q.a)(t,2),o=a[0],c=a[1],i=Object(s.f)();return r.a.createElement("div",{className:e.root},r.a.createElement(le.a,{item:!0,container:!0,className:e.navbar,alignItems:"center",justify:"flex-start"},r.a.createElement(le.a,{item:!0,container:!0,xs:4,alignItems:"center"},r.a.createElement(le.a,{item:!0,container:!0,className:e.logoContainer},r.a.createElement(le.a,{item:!0,className:e.logo},r.a.createElement("img",{src:vt.a,className:e.logoImage})),r.a.createElement(yt,null,"Civic"))),r.a.createElement(le.a,{item:!0,container:!0,xs:4,alignItems:"center",justify:"center"},r.a.createElement(le.a,{item:!0,container:!0,className:e.searchContainer},r.a.createElement(le.a,{item:!0},r.a.createElement(Oe.a,{className:e.formControl},r.a.createElement(je.a,{id:"search-proposal",className:e.inputLabel},"Status"),r.a.createElement(ft.a,{value:o,onChange:function(e){c(e.target.value)},id:"search-proposal"},r.a.createElement("option",{value:"Search all proposals"},"Search all proposals"),r.a.createElement("option",{value:"Proposed"},"Proposed"),r.a.createElement("option",{value:"Reviewing by gov"},"Reviewing by gov"),r.a.createElement("option",{value:"Approved by gov"},"Approved by gov"),r.a.createElement("option",{value:"Rejected by gov"},"Rejected by gov"),r.a.createElement("option",{value:"Voteable"},"Voteable"),r.a.createElement("option",{value:" Vote passed"}," Vote passed"),r.a.createElement("option",{value:"Vote failed"},"Vote failed"),r.a.createElement("option",{value:"Executing by gov"},"Executing by gov"),r.a.createElement("option",{value:"Closed"},"Closed")))),r.a.createElement(le.a,{item:!0,className:e.searchIcon},r.a.createElement(gt.a,null)))),r.a.createElement(le.a,{item:!0,container:!0,xs:4,alignItems:"center"},r.a.createElement(le.a,{item:!0,container:!0,className:e.buttonContainer},r.a.createElement(wt,{onClick:function(){return i.push("/dashboard")}},"Dashboard"),r.a.createElement(xt,{onClick:function(){return i.push("/proposal-create")}},"CREATE")))))}var jt=Object(Ee.a)((function(e){return{root:{flexGrow:1},input:{"&::placeholder":{color:"#599C6D",fontSize:14,opacity:1},textAlign:"left"},formControl:{margin:e.spacing(1),minWidth:200},inputLabel:{color:"#599C6D","&.Mui-focused":{color:"#599C6D"}},budgetInputStyle:{paddingTop:"23px"},categoryTitle:{paddingTop:"10px"},margin:{margin:e.spacing(5)},commonText:{marginLeft:"20px","& .MuiInputBase-input":{paddingBottom:"5px"},"& label.Mui-focused":{color:"#ffffff",fontSize:"18px"},"& .MuiInputBase-root.MuiInput-underline:after":{borderBottomColor:"#ffffff"},"& .MuiInput-underline:before":{borderBottom:"none"},"& label + .MuiInput-formControl":{marginTop:"10px"},"& .MuiInput-underline:hover:not(.Mui-disabled):before":{borderBottom:"none"},"& .makeStyles-inputLabel-118":{color:"#ffffff",fontSize:"25px"}},inputTitle:{color:"white",width:"300px",fontSize:"32px",disableUnderline:!0},inputLabelTitle:{color:"white",fontSize:"25px"}}})),Ct=Object(pe.a)({root:{color:"#FFFFFF",width:"28px",height:"28px",marginBottom:"6px"}})(Qe.a),Ot=Object(pe.a)({root:{color:"#599C6D",fontWeight:500,fontSize:"15px"}})(he.a),Nt=Object(pe.a)({root:{color:"#599C6D",fontWeight:400,fontSize:"12px",lineHeight:"14.06px",marginBottom:"10px"}})(he.a),St=Object(pe.a)({root:{color:"#599C6D",fontSize:"14px","&$checked":{color:"#599C6D"}},checked:{}})((function(e){return r.a.createElement(Je.a,Object.assign({color:"default"},e))})),Tt=Object(pe.a)({root:{backgroundColor:"#1261A3",borderRadius:3,border:0,color:"white",height:36,padding:"0 20px",marginLeft:"10px"},label:{textTransform:"capitalize",fontSize:"14px",fontWeight:"500"}})(re.a),It=Object(pe.a)({root:{fontSize:"15px",color:"#1261A3"}})(he.a),At=Object(pe.a)({root:{color:"#1261A3"}})(fe.a);function Pt(){var e,t=jt(),a=Object(n.useState)({checkedA:!1,checkedB:!1,checkedC:!1,checkedD:!1,checkedE:!1,checkedF:!1,checkedG:!1,checkedH:!1}),o=Object(Q.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(),l=Object(Q.a)(s,2),u=l[0],m=l[1],d=Object(n.useState)({type:""}),f=Object(Q.a)(d,2),h=f[0],g=f[1],b=Object(n.useState)({content:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna wirl Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna wirl Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna wirl Lorem ipsum dolor sit amet, consectetur adipisicing rl Lorem ipsum Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna wirl Lorem ipsum dolor sit ame"}),v=Object(Q.a)(b,2),E=v[0],y=v[1],x=Object(n.useState)([]),k=Object(Q.a)(x,2),j=k[0],C=k[1],O=Object(n.useState)(!1),N=Object(Q.a)(O,2),S=N[0],T=N[1],I=Object(n.useState)(!1),A=Object(Q.a)(I,2),P=A[0],z=A[1],L=Object(n.useState)(!1),D=Object(Q.a)(L,2),_=D[0],M=D[1],R=Object(n.useState)(!1),B=Object(Q.a)(R,2),F=B[0],W=B[1],U=Object(n.useState)(""),H=Object(Q.a)(U,2),K=H[0],G=H[1],q=Object(ge.b)({criteriaMode:"all"}),J=q.errors,V=q.handleSubmit,Y=function(e){e.target.checked?z(!1):z(!0),i(Object(w.a)({},c,Object(p.a)({},e.target.name,e.target.checked)))};return r.a.createElement("div",{className:t.root},r.a.createElement(kt,null),r.a.createElement("form",{onSubmit:V((function(e){W(""==K),""==h.type?T(!0):T(!1);for(var t=0,a=Object.entries(c);t<a.length;t++){var n=Object(Q.a)(a[t],2);n[0];if(1==n[1]){z(!1);break}z(!0)}E.content.length>=100&&E.content.length<=580?M(!1):M(!0)}))},r.a.createElement(le.a,{container:!0,direction:"column"},r.a.createElement(le.a,{className:"hearder-wrap"},r.a.createElement("img",{src:Ye.a,className:"hearder-img"}),r.a.createElement(le.a,{container:!0,direction:"row",className:"hearder-title",alignItems:"center"},r.a.createElement(Ct,null),r.a.createElement(ye.a,{label:"Name your idea",className:(t.margin,t.commonText),InputProps:{className:t.inputTitle},InputLabelProps:{className:t.inputLabelTitle},value:K,onChange:function(e){""==e.target.value?W(!0):W(!1),G(e.target.value)}}),F&&r.a.createElement(Xe.a,null,"Please select a title."))),r.a.createElement("div",{className:"main-container"},r.a.createElement(le.a,{container:!0,spacing:2},r.a.createElement(le.a,{item:!0,xs:7,className:"left-wrap"},r.a.createElement(le.a,{container:!0,item:!0,xs:12,spacing:4},r.a.createElement(le.a,{item:!0},r.a.createElement($e.a,{value:u,currencySymbol:"\u20ac",outputFormat:"string",decimalCharacter:".",digitGroupSeparator:",",placeholder:"Budget",onChange:function(e,t){return m(t)},InputProps:{classes:{input:t.input}},className:t.budgetInputStyle})),r.a.createElement(le.a,{item:!0,className:"type-wrape"},r.a.createElement(Oe.a,{className:t.formControl},r.a.createElement(je.a,{htmlFor:"type-select",className:t.inputLabel},"Type"),r.a.createElement(tt.a,{native:!0,value:h.type,onChange:function(e){var t=e.target.name;""==e.target.value?T(!0):T(!1),g(Object(w.a)({},h,Object(p.a)({},t,e.target.value)))},inputProps:{name:"type",id:"type-select"},errors:J},r.a.createElement("option",{"aria-label":"",value:""}),r.a.createElement("option",{value:"new"},"New"),r.a.createElement("option",{value:"upgrade"},"Upgrade"),r.a.createElement("option",{value:"remove"},"Remove")),S&&r.a.createElement(Xe.a,null,"Please select a type.")))),r.a.createElement(le.a,{container:!0,item:!0,xs:12,spacing:3,className:"catergory-wrape"},r.a.createElement(le.a,{item:!0},r.a.createElement(Ot,{className:t.categoryTitle},"Categories")),r.a.createElement(le.a,{item:!0,sm:!0,container:!0,className:"category-checkbox-wrape"},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(et.a,{control:r.a.createElement(St,{checked:c.checkedA,onChange:Y,name:"checkedA"}),label:"Green space"}),r.a.createElement(et.a,{control:r.a.createElement(St,{checked:c.checkedB,onChange:Y,name:"checkedB"}),label:"Kids"}),r.a.createElement(et.a,{control:r.a.createElement(St,{checked:c.checkedC,onChange:Y,name:"checkedC"}),label:"Safety"}),r.a.createElement(et.a,{control:r.a.createElement(St,{checked:c.checkedD,onChange:Y,name:"checkedD"}),label:"Accessibility"})),r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(et.a,{control:r.a.createElement(St,{checked:c.checkedE,onChange:Y,name:"checkedE"}),label:"Art"}),r.a.createElement(et.a,{control:r.a.createElement(St,{checked:c.checkedF,onChange:Y,name:"checkedF"}),label:"Health"}),r.a.createElement(et.a,{control:r.a.createElement(St,{checked:c.checkedG,onChange:Y,name:"checkedG"}),label:"Roads"}),r.a.createElement(et.a,{control:r.a.createElement(St,{checked:c.checkedH,onChange:Y,name:"checkedH"}),label:"Residential"})),r.a.createElement(le.a,{item:!0,xs:12,className:"checkbox-helper"},P&&r.a.createElement(Xe.a,null,"Please select a type."))),r.a.createElement(le.a,{item:!0,xs:11},r.a.createElement(ye.a,{label:"Description",inputProps:{maxLength:580},value:E.content,helperText:"".concat(E.content.length,"/").concat(580),onChange:(e="content",function(t){t.target.value.length>=100&&t.target.value.length<=580?M(!1):M(!0),y(Object(w.a)({},E,Object(p.a)({},e,t.target.value)))}),margin:"normal",multiline:!0,rows:10,fullWidth:!0})),r.a.createElement(le.a,{item:!0,xs:12,className:"description-helper"},_&&r.a.createElement(Xe.a,null,"Description must be at min 100 to 580 characters. ")))),r.a.createElement(le.a,{item:!0,className:"right-wrap",xs:5},r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement(Nt,null,"Images"),r.a.createElement(at.a,{dropzoneText:"drag files here or click to upload",onChange:function(){return function(e){C(e)}(j)},filesLimit:1})),r.a.createElement(le.a,{item:!0,xs:12},r.a.createElement("div",{className:"googlmap-wrape"},r.a.createElement(dt,{location:{lat:52.1135031,lng:4.2829047},zoom:15}))))),r.a.createElement(le.a,{className:"upload-button"},r.a.createElement(Tt,{type:"submit"},"UPLOAD"),r.a.createElement("div",{className:"encrypt-wrape"},r.a.createElement(le.a,{item:!0},r.a.createElement(It,null,"encrypted")),r.a.createElement(le.a,{item:!0},r.a.createElement(At,null))))))))}var zt=a(244),Lt=a(246),Dt=Object(pe.a)({root:{color:"#000000",fontWeight:"normal",fontSize:"18px",lineHeight:"21px","&:hover":{cursor:"pointer"},marginTop:10}})(he.a),_t=Object(pe.a)({root:{color:"#000000",fontWeight:"normal",fontSize:"10px",lineHeight:"24px",marginTop:10}})(he.a),Mt=Object(pe.a)({root:{backgroundColor:"#1261A3",borderRadius:3,border:0,color:"white",height:36,maxWidth:96,"&:hover":{backgroundColor:"#1261A3"}},label:{textTransform:"capitalize",fontSize:"12px",fontWeight:"normal"}})(re.a);function Rt(e){var t={root:{flexGrow:1},mainContainer:{marginTop:30},cardWrap:{maxWidth:800,margin:"auto"},paper:{padding:10,margin:"auto",maxWidth:285,marginBottom:30,height:300},image:{width:283,height:185},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},cardContent:{padding:10},cardTitle:{minHeight:50}};e.selected&&(t.paper.backgroundColor="lightgrey");var a=Object(Ee.a)((function(e){return t}))();return r.a.createElement(zt.a,{className:a.paper},r.a.createElement(le.a,{container:!0,direction:"column"},r.a.createElement(le.a,{item:!0},r.a.createElement(Lt.a,{className:a.image,onClick:e.onClick},e.imageUrl&&r.a.createElement("img",{className:a.img,alt:e.title,src:e.imageUrl}),!e.imageUrl&&r.a.createElement("img",{className:a.img,style:{opacity:.1},src:vt.a}))),r.a.createElement(le.a,{item:!0,container:!0,className:a.cardContent,direction:"column"},r.a.createElement(le.a,{item:!0,container:!0,className:a.cardTitle},r.a.createElement(le.a,{item:!0,xs:!0},r.a.createElement(Dt,{onClick:e.onClick},e.title.slice(0,30))),r.a.createElement(Mt,{onClick:e.onButtonClick},"READ MORE")),r.a.createElement(le.a,{item:!0},r.a.createElement(_t,null,e.description.slice(0,70)," ...")))))}var Bt=a(141),Ft=function(e){var t=e.selected,a=Object(n.useState)({lat:52.1135031,lng:4.2829047}),o=Object(Q.a)(a,2),c=o[0],i=o[1];return Object(n.useEffect)((function(){t&&t.proposalId&&i(t.position)})),r.a.createElement(Bt.c,{googleMapsApiKey:T.google.apiKey},r.a.createElement(Bt.a,{mapContainerStyle:{height:"86vh",width:"100%"},zoom:e.zoom,center:c},e.proposalList.map((function(a){return r.a.createElement(Bt.d,{key:a.proposalId,position:a.position,onClick:function(){return e.onSelect(a)}},t&&t.proposalId===a.proposalId&&r.a.createElement(Bt.b,{position:a.position,onCloseClick:function(){return e.onSelect({})}},r.a.createElement("p",null,a.title)))}))))};function Wt(e){return{lat:parseFloat(e.split(",")[0]),lng:parseFloat(e.split(",")[1])}}var Ut=Object(Ee.a)((function(e){return{root:{flexGrow:1},mainContainer:{marginTop:30},cardWrap:{maxWidth:800,margin:"auto",maxHeight:780,overflowY:"auto"}}}));var Ht=function(e){var t=Ut(),a=Object(n.useState)([]),o=Object(Q.a)(a,2),c=o[0],i=o[1],l=ne(),p=Object(s.f)(),d=Object(n.useState)({}),f=Object(Q.a)(d,2),h=f[0],g=f[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.isLoggedIn();case 2:if(e.sent){e.next=5;break}return p.push("/login"),e.abrupt("return");case 5:return e.next=7,l.civic.proposalList();case 7:t=(t=e.sent).map((function(e){return e.position=Wt(e.location),e})),i(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:t.root},r.a.createElement(le.a,{container:!0,direction:"column"},r.a.createElement(le.a,{item:!0},r.a.createElement(kt,null)),r.a.createElement(le.a,{item:!0,container:!0,className:t.mainContainer},r.a.createElement(le.a,{item:!0,container:!0,xs:6},0===c.length&&r.a.createElement("div",{style:{margin:"auto"}}," No proposal were found"),c.length>0&&r.a.createElement(le.a,{item:!0,container:!0,className:t.cardWrap},c.map((function(e){return r.a.createElement(le.a,{item:!0,xs:6,key:e.proposalId},r.a.createElement(Rt,{title:e.title,description:e.description,imageUrl:e.photos,selected:h.proposalId===e.proposalId,onClick:function(){return g(e)},onButtonClick:function(){return t=e.proposalId,void p.push("/proposals/".concat(t));var t}}))})))),r.a.createElement(le.a,{item:!0,container:!0,xs:6},r.a.createElement(Ft,{selected:h,onSelect:function(e){return g(e)},proposalList:c,zoom:15})))))},Kt=function(){return r.a.createElement(i.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(Ge,null)),r.a.createElement(s.a,{path:"/login"},r.a.createElement(He,null)),r.a.createElement(s.a,{path:"/test"},r.a.createElement(Y,null)),r.a.createElement(s.a,{path:"/security"},r.a.createElement(qe,null)),r.a.createElement(s.a,{path:"/proposal-create"},r.a.createElement(Pt,null)),r.a.createElement(s.a,{path:"/dashboard"},r.a.createElement(Ht,null))))},Gt=function(e){var t=e.children;return r.a.createElement(ae,null,t)},qt=(a(585),a(624));var Jt=function(){return r.a.createElement("div",null,r.a.createElement(Gt,null,r.a.createElement(qt.a,{theme:Me},r.a.createElement(Kt,{history:!0}))))};c.a.render(r.a.createElement(Jt,null),document.getElementById("root"))}},[[417,1,2]]]);
//# sourceMappingURL=main.4179e48f.chunk.js.map